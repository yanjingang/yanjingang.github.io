

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dp package &mdash; pydp 0.0.19 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'0.0.19',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pydp
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">dp package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-dp.audio">dp.audio module</a></li>
<li><a class="reference internal" href="#module-dp.da">dp.da module</a></li>
<li><a class="reference internal" href="#module-dp.resnet">dp.resnet module</a></li>
<li><a class="reference internal" href="#module-dp.utils">dp.utils module</a></li>
<li><a class="reference internal" href="#module-dp.vgg">dp.vgg module</a></li>
<li><a class="reference internal" href="#module-dp">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pydp</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>dp package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/dp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dp-package">
<h1>dp package<a class="headerlink" href="#dp-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dp.audio">
<span id="dp-audio-module"></span><h2>dp.audio module<a class="headerlink" href="#module-dp.audio" title="Permalink to this headline">¶</a></h2>
<p>File: audio.py
Desc: 音频播放类
Author:yanjingang(yanjingang&#64;mail.com)
Date: 2019/2/21 23:34</p>
<dl class="class">
<dt id="dp.audio.Player">
<em class="property">class </em><code class="descclassname">dp.audio.</code><code class="descname">Player</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#Player"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.Player" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<p>异步线程播放音频</p>
<dl class="method">
<dt id="dp.audio.Player.is_playing">
<code class="descname">is_playing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#Player.is_playing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.Player.is_playing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dp.audio.Player.play">
<code class="descname">play</code><span class="sig-paren">(</span><em>src</em>, <em>delete=False</em>, <em>onCompleted=None</em>, <em>volume=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#Player.play"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.Player.play" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dp.audio.Player.play_block">
<code class="descname">play_block</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#Player.play_block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.Player.play_block" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dp.audio.Player.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#Player.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.Player.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

<dl class="method">
<dt id="dp.audio.Player.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#Player.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.Player.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="dp.audio.convert_mp3_to_wav">
<code class="descclassname">dp.audio.</code><code class="descname">convert_mp3_to_wav</code><span class="sig-paren">(</span><em>mp3_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#convert_mp3_to_wav"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.convert_mp3_to_wav" title="Permalink to this definition">¶</a></dt>
<dd><p>将 mp3 文件转成 wav</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mp3_path</strong> – mp3 文件路径</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">wav 文件路径</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dp.audio.convert_wav_to_mp3">
<code class="descclassname">dp.audio.</code><code class="descname">convert_wav_to_mp3</code><span class="sig-paren">(</span><em>wav_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#convert_wav_to_mp3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.convert_wav_to_mp3" title="Permalink to this definition">¶</a></dt>
<dd><p>将 wav 文件转成 mp3</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wav_path</strong> – wav 文件路径</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">mp3 文件路径</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dp.audio.get_pcm_from_wav">
<code class="descclassname">dp.audio.</code><code class="descname">get_pcm_from_wav</code><span class="sig-paren">(</span><em>wav_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#get_pcm_from_wav"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.get_pcm_from_wav" title="Permalink to this definition">¶</a></dt>
<dd><p>从 wav 文件中读取 pcm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wav_path</strong> – wav 文件路径</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">pcm 数据</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dp.audio.play">
<code class="descclassname">dp.audio.</code><code class="descname">play</code><span class="sig-paren">(</span><em>filename=''</em>, <em>callback=None</em>, <em>media=''</em>, <em>delete=False</em>, <em>volume=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/audio.html#play"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.audio.play" title="Permalink to this definition">¶</a></dt>
<dd><p>播放声音（默认声音为报警音）</p>
</dd></dl>

</div>
<div class="section" id="module-dp.da">
<span id="dp-da-module"></span><h2>dp.da module<a class="headerlink" href="#module-dp.da" title="Permalink to this headline">¶</a></h2>
<p>File: da.py
Desc: 需求识别基类
Author:yanjingang(yanjingang&#64;mail.com)
Date: 2019/2/21 23:34</p>
<dl class="class">
<dt id="dp.da.Da">
<em class="property">class </em><code class="descclassname">dp.da.</code><code class="descname">Da</code><span class="sig-paren">(</span><em>dict_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Da"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Da" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>需求识别</p>
<dl class="attribute">
<dt id="dp.da.Da.DICT_PATH">
<code class="descname">DICT_PATH</code><em class="property"> = '/Users/yanjingang/project/pydp/dp/data/da/'</em><a class="headerlink" href="#dp.da.Da.DICT_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dp.da.Da.get_parser">
<code class="descname">get_parser</code><span class="sig-paren">(</span><em>trigger</em>, <em>query</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Da.get_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Da.get_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>解析某trigger下的query</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Da.get_trigger">
<code class="descname">get_trigger</code><span class="sig-paren">(</span><em>query</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Da.get_trigger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Da.get_trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>意图分类识别</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Da.load_parser_dict">
<code class="descname">load_parser_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Da.load_parser_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Da.load_parser_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>加载需求匹配词典</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Da.load_trigger_dict">
<code class="descname">load_trigger_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Da.load_trigger_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Da.load_trigger_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>加载意图词典</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Da.parser_query">
<code class="descname">parser_query</code><span class="sig-paren">(</span><em>pattern_tree</em>, <em>term_tree</em>, <em>query</em>, <em>parent_res={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Da.parser_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Da.parser_query" title="Permalink to this definition">¶</a></dt>
<dd><p>根据解析模版树和词库树解析query</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dp.da.Node">
<em class="property">class </em><code class="descclassname">dp.da.</code><code class="descname">Node</code><span class="sig-paren">(</span><em>name</em>, <em>deep=0</em>, <em>count=1</em>, <em>isleaf=False</em>, <em>childs=None</em>, <em>param=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>解析模版/词库树</p>
<dl class="method">
<dt id="dp.da.Node.add_child">
<code class="descname">add_child</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.add_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>增加子节点</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Node.add_count">
<code class="descname">add_count</code><span class="sig-paren">(</span><em>count=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.add_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.add_count" title="Permalink to this definition">¶</a></dt>
<dd><p>增加节点计数</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Node.add_trie_child">
<code class="descname">add_trie_child</code><span class="sig-paren">(</span><em>_node</em>, <em>trieid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.add_trie_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.add_trie_child" title="Permalink to this definition">¶</a></dt>
<dd><p>增加单字字典树trietree</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Node.find_trietree">
<code class="descname">find_trietree</code><span class="sig-paren">(</span><em>words</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.find_trietree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.find_trietree" title="Permalink to this definition">¶</a></dt>
<dd><p>从trietree中查找完全匹配字符串的叶子节点位置</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Node.get_child">
<code class="descname">get_child</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.get_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.get_child" title="Permalink to this definition">¶</a></dt>
<dd><p>获取子节点</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Node.get_child_names">
<code class="descname">get_child_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.get_child_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.get_child_names" title="Permalink to this definition">¶</a></dt>
<dd><p>获取所有一级子节点的name列表</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Node.get_trie_child_names">
<code class="descname">get_trie_child_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.get_trie_child_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.get_trie_child_names" title="Permalink to this definition">¶</a></dt>
<dd><p>获取trietree递归子节点的name列表</p>
</dd></dl>

<dl class="method">
<dt id="dp.da.Node.print">
<code class="descname">print</code><span class="sig-paren">(</span><em>prefix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/da.html#Node.print"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.da.Node.print" title="Permalink to this definition">¶</a></dt>
<dd><p>打印树</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dp.resnet">
<span id="dp-resnet-module"></span><h2>dp.resnet module<a class="headerlink" href="#module-dp.resnet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dp.resnet.resnet_cifar10">
<code class="descclassname">dp.resnet.</code><code class="descname">resnet_cifar10</code><span class="sig-paren">(</span><em>ipt</em>, <em>depth=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/resnet.html#resnet_cifar10"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.resnet.resnet_cifar10" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dp.utils">
<span id="dp-utils-module"></span><h2>dp.utils module<a class="headerlink" href="#module-dp.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dp.utils.cache_file">
<code class="descclassname">dp.utils.</code><code class="descname">cache_file</code><span class="sig-paren">(</span><em>filename</em>, <em>cache_key</em>, <em>cache_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#cache_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.cache_file" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存文件
:param filename: 要cache的文件名
:param cache_path: cache保存目录
:param cache_key: cache唯一key</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.clear_punctuation">
<code class="descclassname">dp.utils.</code><code class="descname">clear_punctuation</code><span class="sig-paren">(</span><em>s</em>, <em>split=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#clear_punctuation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.clear_punctuation" title="Permalink to this definition">¶</a></dt>
<dd><p>清理字符串中的标点符号</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.cp">
<code class="descclassname">dp.utils.</code><code class="descname">cp</code><span class="sig-paren">(</span><em>source_file</em>, <em>target_file</em>, <em>remove=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#cp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.cp" title="Permalink to this definition">¶</a></dt>
<dd><p>复制文件</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.dump_conf">
<code class="descclassname">dp.utils.</code><code class="descname">dump_conf</code><span class="sig-paren">(</span><em>data</em>, <em>filename</em>, <em>format='yaml'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#dump_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.dump_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>保存dict为配置文件</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.format_video_length">
<code class="descclassname">dp.utils.</code><code class="descname">format_video_length</code><span class="sig-paren">(</span><em>seconds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#format_video_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.format_video_length" title="Permalink to this definition">¶</a></dt>
<dd><p>格式化视频长度格式（秒数 -&gt; h:m:s格式）</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.full2half">
<code class="descclassname">dp.utils.</code><code class="descname">full2half</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#full2half"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.full2half" title="Permalink to this definition">¶</a></dt>
<dd><p>字符串全角转半角</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.gen_token">
<code class="descclassname">dp.utils.</code><code class="descname">gen_token</code><span class="sig-paren">(</span><em>appid</em>, <em>uid</em>, <em>secret_key</em>, <em>token_type='11'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#gen_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.gen_token" title="Permalink to this definition">¶</a></dt>
<dd><p>生成token</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_cache_file">
<code class="descclassname">dp.utils.</code><code class="descname">get_cache_file</code><span class="sig-paren">(</span><em>cache_key</em>, <em>cache_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_cache_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_cache_file" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存文件
:param filename: 要cache的文件名
:param cache_path: cache保存目录
:param cache_key: cache唯一key</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_date">
<code class="descclassname">dp.utils.</code><code class="descname">get_date</code><span class="sig-paren">(</span><em>timestamp</em>, <em>format='%Y-%m-%d %H:%M:%S'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_date" title="Permalink to this definition">¶</a></dt>
<dd><p>返回时间戳对应的格式化日期格式</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_file_content">
<code class="descclassname">dp.utils.</code><code class="descname">get_file_content</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_file_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_file_content" title="Permalink to this definition">¶</a></dt>
<dd><p>读取文件内容并返回
:param filename: 文件路径
:returns: 文件内容
:raises IOError: 读取失败则抛出 IOError</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_file_rowcount">
<code class="descclassname">dp.utils.</code><code class="descname">get_file_rowcount</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_file_rowcount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_file_rowcount" title="Permalink to this definition">¶</a></dt>
<dd><p>获得文件的行数</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_path_filecount">
<code class="descclassname">dp.utils.</code><code class="descname">get_path_filecount</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_path_filecount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_path_filecount" title="Permalink to this definition">¶</a></dt>
<dd><p>获得目录下的文件个数</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_pinyin">
<code class="descclassname">dp.utils.</code><code class="descname">get_pinyin</code><span class="sig-paren">(</span><em>s</em>, <em>split=''</em>, <em>tone_marks=''</em>, <em>shengmu=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_pinyin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_pinyin" title="Permalink to this definition">¶</a></dt>
<dd><p>获得汉字的拼音
Params:</p>
<blockquote>
<div>split   单字分割符
tone_marks  返回声调(marks：shàng-hǎi，numbers：shang4-hai3，为空时不反回声调)
shengmu 只返回声母</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_shengmu">
<code class="descclassname">dp.utils.</code><code class="descname">get_shengmu</code><span class="sig-paren">(</span><em>s</em>, <em>split=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_shengmu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_shengmu" title="Permalink to this definition">¶</a></dt>
<dd><p>返回汉子的拼音声母</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_today">
<code class="descclassname">dp.utils.</code><code class="descname">get_today</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_today"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_today" title="Permalink to this definition">¶</a></dt>
<dd><p>获得今天日期</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_trace">
<code class="descclassname">dp.utils.</code><code class="descname">get_trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>获得异常栈内容</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.get_video_info">
<code class="descclassname">dp.utils.</code><code class="descname">get_video_info</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#get_video_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.get_video_info" title="Permalink to this definition">¶</a></dt>
<dd><p>获得视频的fps帧率（即每秒传输帧数）、总帧数、时长等信息</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.image_reader_creator">
<code class="descclassname">dp.utils.</code><code class="descname">image_reader_creator</code><span class="sig-paren">(</span><em>img_path</em>, <em>height</em>, <em>width</em>, <em>rgb=False</em>, <em>reshape1=False</em>, <em>label_split_dot=0</em>, <em>label_split_midline=1</em>, <em>label_list=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#image_reader_creator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.image_reader_creator" title="Permalink to this definition">¶</a></dt>
<dd><p>自定义image目录文件列表reader</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.image_sobel">
<code class="descclassname">dp.utils.</code><code class="descname">image_sobel</code><span class="sig-paren">(</span><em>img_path</em>, <em>ksize=5</em>, <em>dilate=0</em>, <em>erode=0</em>, <em>dilate2=0</em>, <em>mid_imgs=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#image_sobel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.image_sobel" title="Permalink to this definition">¶</a></dt>
<dd><p>图片边缘检测</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.init_logging">
<code class="descclassname">dp.utils.</code><code class="descname">init_logging</code><span class="sig-paren">(</span><em>log_file='sys'</em>, <em>log_path='/tmp'</em>, <em>log_level=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#init_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>初始化默认日志参数</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.load_conf">
<code class="descclassname">dp.utils.</code><code class="descname">load_conf</code><span class="sig-paren">(</span><em>filename</em>, <em>format='yaml'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#load_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.load_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>加载配置文件为dict</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.load_data">
<code class="descclassname">dp.utils.</code><code class="descname">load_data</code><span class="sig-paren">(</span><em>filename</em>, <em>split=None</em>, <em>loadjson=False</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>加载词典</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.load_image">
<code class="descclassname">dp.utils.</code><code class="descname">load_image</code><span class="sig-paren">(</span><em>img_path</em>, <em>height</em>, <em>width</em>, <em>rotate=0</em>, <em>invert=False</em>, <em>sobel=False</em>, <em>ksize=5</em>, <em>dilate=0</em>, <em>erode=0</em>, <em>save_resize=False</em>, <em>mid_imgs=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#load_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.load_image" title="Permalink to this definition">¶</a></dt>
<dd><p>加载黑白图片数据</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.load_rgb_image">
<code class="descclassname">dp.utils.</code><code class="descname">load_rgb_image</code><span class="sig-paren">(</span><em>img_path</em>, <em>height=32</em>, <em>width=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#load_rgb_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.load_rgb_image" title="Permalink to this definition">¶</a></dt>
<dd><p>加载rgb图片数据</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.md5">
<code class="descclassname">dp.utils.</code><code class="descname">md5</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#md5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.md5" title="Permalink to this definition">¶</a></dt>
<dd><p>生成md5</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.mkdir">
<code class="descclassname">dp.utils.</code><code class="descname">mkdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>检查并创建目录</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.mv">
<code class="descclassname">dp.utils.</code><code class="descname">mv</code><span class="sig-paren">(</span><em>source_file</em>, <em>target_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#mv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.mv" title="Permalink to this definition">¶</a></dt>
<dd><p>移动文件</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.pickle_dump">
<code class="descclassname">dp.utils.</code><code class="descname">pickle_dump</code><span class="sig-paren">(</span><em>object</em>, <em>filename</em>, <em>protocol=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#pickle_dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.pickle_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>对象压缩后保存到文件</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.pickle_load">
<code class="descclassname">dp.utils.</code><code class="descname">pickle_load</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#pickle_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.pickle_load" title="Permalink to this definition">¶</a></dt>
<dd><p>加载保存的压缩对象文件-&gt;</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.play_sound">
<code class="descclassname">dp.utils.</code><code class="descname">play_sound</code><span class="sig-paren">(</span><em>media=''</em>, <em>filename=''</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#play_sound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.play_sound" title="Permalink to this definition">¶</a></dt>
<dd><p>播放声音（默认声音为报警音）</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.qrcode_detect">
<code class="descclassname">dp.utils.</code><code class="descname">qrcode_detect</code><span class="sig-paren">(</span><em>img=None</em>, <em>img_file=''</em>, <em>debug_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#qrcode_detect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.qrcode_detect" title="Permalink to this definition">¶</a></dt>
<dd><p>图片二维码位置检测</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.rm">
<code class="descclassname">dp.utils.</code><code class="descname">rm</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#rm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.rm" title="Permalink to this definition">¶</a></dt>
<dd><p>删除文件</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.rmdir">
<code class="descclassname">dp.utils.</code><code class="descname">rmdir</code><span class="sig-paren">(</span><em>path</em>, <em>skips=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#rmdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.rmdir" title="Permalink to this definition">¶</a></dt>
<dd><p>删除目录</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.send_mail">
<code class="descclassname">dp.utils.</code><code class="descname">send_mail</code><span class="sig-paren">(</span><em>subject</em>, <em>body</em>, <em>attach_list</em>, <em>to</em>, <em>user</em>, <em>sender</em>, <em>password</em>, <em>smtp_server</em>, <em>smtp_port</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#send_mail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.send_mail" title="Permalink to this definition">¶</a></dt>
<dd><p>发送邮件</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>subject</strong> – 邮件标题</li>
<li><strong>body</strong> – 邮件正文</li>
<li><strong>attach_list</strong> – 附件</li>
<li><strong>to</strong> – 收件人</li>
<li><strong>user</strong> – 发件人</li>
<li><strong>sender</strong> – 发件人信息</li>
<li><strong>password</strong> – 密码</li>
<li><strong>smtp_server</strong> – smtp 服务器</li>
<li><strong>smtp_port</strong> – smtp 端口号</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True: 发送成功; False: 发送失败</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dp.utils.write_image">
<code class="descclassname">dp.utils.</code><code class="descname">write_image</code><span class="sig-paren">(</span><em>img</em>, <em>filename</em>, <em>step=''</em>, <em>path='./upload/tmp'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#write_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.write_image" title="Permalink to this definition">¶</a></dt>
<dd><p>保存图片并打印</p>
</dd></dl>

<dl class="function">
<dt id="dp.utils.write_temp_file">
<code class="descclassname">dp.utils.</code><code class="descname">write_temp_file</code><span class="sig-paren">(</span><em>data</em>, <em>suffix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/utils.html#write_temp_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.utils.write_temp_file" title="Permalink to this definition">¶</a></dt>
<dd><p>写入临时文件
:param data: 二进制数据
:param suffix: 后缀名
:returns: 文件保存后的路径</p>
</dd></dl>

</div>
<div class="section" id="module-dp.vgg">
<span id="dp-vgg-module"></span><h2>dp.vgg module<a class="headerlink" href="#module-dp.vgg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dp.vgg.vgg_bn_drop">
<code class="descclassname">dp.vgg.</code><code class="descname">vgg_bn_drop</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dp/vgg.html#vgg_bn_drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dp.vgg.vgg_bn_drop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dp">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dp" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, yanjingang

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>